<<<<<<< Updated upstream
 [教你分析9种 OOM 常见原因及解决方案 - 云+社区 - 腾讯云 (tencent.com)](https://cloud.tencent.com/developer/article/1480668)
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
=======

## OOM问题

https://blog.csdn.net/qq_42447950/article/details/81435080
https://www.cnblogs.com/ThinkVenus/p/6805495.html





Q1: 一个Object对象要占用多少空间？



### 弱引用
> - 弱引用对象具有较短的生命周期，在GC线程扫描到其所引用的内存时，一旦发现弱引用对象，不管当前内存空间是否够用，都会回收它的内存。不过垃圾回收器是一个优先级很低的线程，因此也不一定会很快地发现哪些具有弱引用的对象。
> - 弱引⽤可以和⼀个引⽤队列（ReferenceQueue）联合使⽤，如果弱引⽤所引⽤的对象被垃圾回收，Java 虚拟机就会把这个弱引⽤加⼊到与之关联的引⽤队列中。




## 乐观锁和悲观锁
[Java 锁之乐观锁和悲观锁 - 知乎](https://zhuanlan.zhihu.com/p/85912409)
Java按照锁的实现方式分类为乐观锁和悲观锁，它们并不是真实存在的锁，而是一种设计思想。

### 乐观锁
乐观锁的思想：它总认为资源和数据不会被别人所修改，所以读取时不上锁，但是乐观锁在写入操作时，会判断当前数据是否被修改过。
乐观锁的实现方式：**版本号机制**和**CAS实现**。
使用：Java中`java.util.concurrent.atomic`包下的原子变量类就是使用乐观锁CAS方式进行实现。


### 悲观锁
悲观锁的思想：它总认为最坏的情况可能会出现，及数据可能会被别人所修改，所以悲观锁在持有数据时总会把资源或者数据锁住，这样其它线程想要请求这个资源的时候就会阻塞，直到悲观锁把资源释放为止。
悲观锁实现：数据库中依靠数据库本身的锁功能实现；Java中`Synchronized` 和 `ReentrantLock` 等独占锁(排他锁)也是一种悲观锁思想的实现。

悲观锁的使用：传统的关系型数据库中使用了这些锁机制，比如行锁、表锁、读锁、写锁等，都是在操作之前先上锁。







-   如何判断对象是否死亡（两种方法）。
-   简单的介绍一下强引用、软引用、弱引用、虚引用（虚引用与软引用和弱引用的区别、使用软引用能带来的好处）。
-   如何判断一个常量是废弃常量
-   如何判断一个类是无用的类
-   垃圾收集有哪些算法，各自的特点？
-   HotSpot 为什么要分为新生代和老年代？
-   常见的垃圾回收器有哪些？
-   介绍一下 CMS,G1 收集器。
-   Minor Gc 和 Full GC 有什么不同呢？


- Minor GC、Major GC、Full GC的区别和联系
[Java面试必考题：Minor GC、Major GC、Full GC的区别和联系](https://kuaibao.qq.com/s/20190228A0656E00?refer=spider)






>>>>>>> Stashed changes
