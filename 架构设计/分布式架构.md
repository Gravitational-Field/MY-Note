## 1、分布式概念
服务雪崩

熔断


限流


API网关
	系统服务总入口
	
系统跟踪


弹性云





## 分布式系统和集群的区别






## 跨域请求
[什么是跨域请求以及实现跨域的方案](https://www.jianshu.com/p/f880878c1398)

**疑问1**：微服务通讯（RPC通讯）会产生跨域问题吗？
答案：不会。跨域是浏览器端问题，浏览器有默认的同源安全策略来限制ajax发出与当前协议、域名、端口不同的请求，请求会发出，但没有响应回来数据；RPC走的是后端访问，不会产生同源问题。

### 什么是跨域请求
跨域请求：当前发起请求的域与该请求指向资源所在的域不一样；跨域请求会造成安全问题，同时跨域请求会受到同源测略的限制。
域：协议+域名+端口号都相同，才称为同域

### 为什么要对跨域请求作出限制
因为跨域请求可能被不法分子利用来发动CSRF攻击；
**CSRF攻击：** 攻击者盗用你的身份，以你的名义发送请求。
Cross-site-request-forgery：跨站请求伪造
> CSRF攻击者在用户已经登录目标网站后，诱使用户访问一个攻击页面，利用目标网站对用户的信任，以用户的身份在攻击页面对目标网站发起伪造用户操作的请求，达到攻击目的。

限制跨域请求，可以避免用户通过未被授权的网页（攻击者的网页）发起用户请求，该请求是一个跨域请求，服务器限制了跨域请求，从而避免攻击者的目的。

限制跨域请求的方式：
- 浏览器对跨域请求作出限制
- 服务器端对跨域请求进行限制

### 同源策略
同源策略是浏览器的一种安全策略，其核心是对非同源脚本的限制。

### 跨域解决方法
同源策略安全层面是很必要的，但同源策略会对我们的合理用途造成影响，应用的开发上受到了限制，即有时我们需要主动去进行跨域请求。

多种方式可以绕开同源策略：JSONP方式、CORS方式

#### JSONP方式
- JSONP是一种非官方的跨域数据交互协议
- 本质：利用\<script>、\<img>、\<iframe>等标签不受同源策略的限制，可以从不同域加载并执行资源的特性，来实现数据的跨域传输。
- 理念：与服务器约定好一个回调函数名，服务端接收到请求后，返回一段JavaScript代码，javaScript中调用约定好的回调函数，并将数据作为参数传入。网页接收到代码后，就会执行这个回调函数。

- 优缺点：
	- 优点：它不受到同源策略的限制；兼容性好，在版本老的浏览器中都可以运行。
	- 缺点：只支持Get请求，而不支持其它类型的HTTP请求。






#### CORS方式
 跨源资源共享 Cross-Origin Resource Sharing(CORS)是一个新的W3C标准，允许浏览器向声明了CORS的跨域服务器发送请求，从而克服了Ajax只能同源使用的限制。
 
 实现：在Http响应头部增加**一组**字段，如Access-Control-Allow-Origin等，用来允许哪些域可以访问资源
	
规范也要求对于**非简单请求**，浏览器必须首先使用 OPTION 方法发起一个预检请求(preflight request)，从而获知服务端是否允许该跨域请求，在服务器确定允许后，才发起实际的HTTP请求。


#### JSONP与CORS的比较
- JSONP只实现了Get请求，CORS支持所有类型的请求
-  使用 CORS ，开发者可以是使用普通的 XMLHttpRequest 发起请求和获取数据，比起 JSONP 有更好的错误处理
-  CORS 的兼容性比不上 JSONP，一些比较老的浏览器只支持 JSONP


#### 五种网站跨域解决方案

 （1）使用jsonp解决网站跨域 （不推荐，因为只能支持get请求）  
 （2）使用HttpClient内部转发（不推荐，会发两次请求效率低）  
 （3）使用设置响应头允许跨域  
 **（4）基于Nginx搭建企业级API接口网关**  
 **（5）使用Zuul搭建微服务API接口网关**